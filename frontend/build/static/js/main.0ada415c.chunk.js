(this["webpackJsonpreact-lap"]=this["webpackJsonpreact-lap"]||[]).push([[0],{107:function(e,t,a){e.exports={Background:"ProfileCard_Background__z_jpn",ProfileCard:"ProfileCard_ProfileCard__3ZDUN",ProfileCardBody:"ProfileCard_ProfileCardBody__zOxzk",ProfileCardBackgroundImage:"ProfileCard_ProfileCardBackgroundImage__1J8Xe",ProfileCardImage:"ProfileCard_ProfileCardImage__2f0X6",TextMuted:"ProfileCard_TextMuted__2xGuq",TextBold:"ProfileCard_TextBold__4_qfn",CardFooter:"ProfileCard_CardFooter__T9GNf",FooterP:"ProfileCard_FooterP__3s9bx"}},108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(19),o=a.n(l),c=(a(77),a(78),a(18)),u=a(6),s=a(120),i=a(114),m=a(121),E=a(118),d=a(23),p=a(47),f=a(10),g=a(17),h=a.n(g),v=a(32),S=a(38),y=a.n(S);var b=function(e){var t=e.history,a=Object(f.c)((function(e){return e.userLogin})).userInfo,r=Object(f.b)();return n.a.createElement("div",null,n.a.createElement("header",null,n.a.createElement(s.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},n.a.createElement(i.a,null,n.a.createElement(d.LinkContainer,{to:"/"},n.a.createElement(s.a.Brand,null,"Promordial Escrow services")),n.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(m.a,{className:"ml-auto"},a?n.a.createElement(E.a,{title:a.name,id:"username"},n.a.createElement(d.LinkContainer,{to:"/profile"},n.a.createElement(E.a.Item,null,"Profile")),n.a.createElement(E.a.Item,{onClick:function(){r(function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:"USER_LOGOUT"}),t({type:"USER_DETAILS_RESET"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.push("/")}},"Logout")):n.a.createElement(d.LinkContainer,{to:"/login"},n.a.createElement(m.a.Link,null,n.a.createElement("i",{className:"fas fa-user"}),"Login")),!a&&n.a.createElement(d.LinkContainer,{to:"/login"},n.a.createElement(m.a.Link,null,n.a.createElement(p.a,{style:{margin:"5"}}),"Login")),!a&&n.a.createElement(d.LinkContainer,{to:"/register"},n.a.createElement(m.a.Link,null,n.a.createElement(p.a,{style:{margin:"5"}}),"sign up"))))))))},C=a(115),_=a(69);var I=function(){return r.createElement("div",null,r.createElement(i.a,null,r.createElement(C.a,null,r.createElement("appBar",null),r.createElement(_.a,{className:"text-center py-3"},"Copyright \xa9"))))},R=a(7),O=a(119),L=a(68);var U=function(e){var t=e.children;return n.a.createElement(i.a,null,n.a.createElement(C.a,{className:"justify-content-md-center"},n.a.createElement(_.a,{xs:12,md:6},t)))},j=a(116);var w=function(){return r.createElement(j.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"}},r.createElement("span",{className:"sr-only"},"Loading..."))},A=a(122);var x=function(e){var t=e.variant,a=e.children;return r.createElement(A.a,{variant:t},a)};var G=function(e){var t=e.history,a=e.location,n=r.useState(""),l=Object(R.a)(n,2),o=l[0],u=l[1],s=r.useState(""),i=Object(R.a)(s,2),m=i[0],E=i[1],d=a.search?a.search.split("m")[1]:"/",p=Object(f.c)((function(e){return e.userLogin})),g=p.loading,S=p.error,b=p.userInfo,I=Object(f.b)();return r.useEffect((function(){b&&t.push(d)}),[t,b,d]),r.createElement(r.Fragment,null,r.createElement(U,null,r.createElement("h1",null,"Sign In"),S&&r.createElement(x,{variant:"danger"},"Incorrect Password or username"),g&&r.createElement(w,null),r.createElement(O.a,{onSubmit:function(e){e.preventDefault(),I(function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(r){var n,l,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"USER_LOGIN_REQUEST"}),n={headers:{"Content-type":"application/json"}},a.next=5,y.a.post("http://127.0.0.1:8000/api/user/login/",{username:e,password:t},n);case 5:l=a.sent,o=l.data,r({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:"USER_LOGIN_FAIL",payload:a.t0.response&&a.t0.response.data.details?a.t0.response.data.details:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(o,m))}},r.createElement(O.a.Group,{controlId:"email"},r.createElement(O.a.Label,null,"UserName"),r.createElement(O.a.Control,{type:"email",placeholder:"Enter your username here",value:o,onChange:function(e){return u(e.target.value)}})),r.createElement(O.a.Group,{controlId:"password"},r.createElement(O.a.Label,null,"Password"),r.createElement(O.a.Control,{type:"password",placeholder:"Enter your Password here",value:m,onChange:function(e){return E(e.target.value)}})),r.createElement(L.a,{type:"submit",variant:"primary"},"Sign In")),r.createElement(C.a,{className:"py-3"},r.createElement(_.a,null,"New Customer? ",r.createElement(c.Link,{to:"/register"},"Register")))))};var P=function(e){e.location;var t=e.history,a=r.useState(""),n=Object(R.a)(a,2),l=n[0],o=n[1],u=r.useState(""),s=Object(R.a)(u,2),i=s[0],m=s[1],E=r.useState(""),d=Object(R.a)(E,2),p=d[0],g=d[1],S=r.useState(""),b=Object(R.a)(S,2),I=b[0],j=b[1],A=r.useState(""),G=Object(R.a)(A,2),P=G[0],T=G[1],k=Object(f.c)((function(e){return e.userRegister})),N=k.loading,B=k.error,q=k.userInfo,D=Object(f.b)();return r.useEffect((function(){q&&t.push("/")}),[t,q]),r.createElement(U,null,r.createElement("h1",null,"Register"),B&&r.createElement(x,{variant:"danger"},B),N&&r.createElement(w,null),P&&r.createElement(x,{variant:"danger"},P),r.createElement(O.a,{onSubmit:function(e){e.preventDefault(),p!==I?T("password does not match"):D(function(e,t,a){return function(){var r=Object(v.a)(h.a.mark((function r(n){var l,o,c;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"USER_REGISTER_REQUEST"}),l={headers:{"Content-type":"application/json"}},r.next=5,y.a.post("http://127.0.0.1:8000/api/user/register/",{name:e,email:t,password:a},l);case 5:o=r.sent,c=o.data,n({type:"USER_REGISTER_SUCCESS",payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:"USER_REGISTER_FAIL",payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(l,i,p)),t.push("/createAddress"),console.log("register")}},r.createElement(O.a.Group,{controlId:"name"},r.createElement(O.a.Label,null,"UserName"),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"Enter your Username here",value:l,onChange:function(e){return o(e.target.value)}})),r.createElement(O.a.Group,{controlId:"email"},r.createElement(O.a.Label,null,"Email Address"),r.createElement(O.a.Control,{required:!0,type:"email",placeholder:"Enter your Email here",value:i,onChange:function(e){return m(e.target.value)}}),r.createElement(O.a.Group,{controlId:"password"},r.createElement(O.a.Label,null,"Password"),r.createElement(O.a.Control,{required:!0,type:"password",placeholder:"Enter your Password here",value:p,onChange:function(e){return g(e.target.value)}})),r.createElement(O.a.Group,{controlId:"confirmPassword"},r.createElement(O.a.Label,null,"Password"),r.createElement(O.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:I,onChange:function(e){return j(e.target.value)}})),r.createElement(L.a,{type:"submit",variant:"primary"},"Continue"))),r.createElement(C.a,{className:"py-3"},r.createElement(_.a,null,"Already have ancount? ",r.createElement(c.Link,{to:"/login"},"Login"))))};a(123),a(107);var T=function(e){return e.history,n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(C.a,null)))};var k=function(e){e.location;var t=e.history,a=r.useState(""),n=Object(R.a)(a,2),l=n[0],o=n[1],c=r.useState(""),u=Object(R.a)(c,2),s=u[0],i=u[1],m=r.useState(""),E=Object(R.a)(m,2),d=E[0],p=E[1],g=r.useState(""),S=Object(R.a)(g,2),b=S[0],C=S[1],_=r.useState(""),I=Object(R.a)(_,2),j=I[0],A=I[1],G=r.useState(""),P=Object(R.a)(G,2),T=P[0],k=P[1],N=r.useState(""),B=Object(R.a)(N,2),q=B[0],D=B[1],F=r.useState(""),J=Object(R.a)(F,2),Q=J[0],z=(J[1],Object(f.c)((function(e){return e.userLogin}))),H=z.loading,M=z.error,W=(z.userInfo,Object(f.b)());return r.createElement(U,null,r.createElement("h1",null,"Add Address"),M&&r.createElement(x,{variant:"danger"},M),H&&r.createElement(w,null),Q&&r.createElement(x,{variant:"danger"},Q),r.createElement(O.a,{onSubmit:function(e){e.preventDefault(),W(function(e,t,a,r,n,l,o){return function(){var c=Object(v.a)(h.a.mark((function c(u,s){var i,m,E,d,p;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,u({type:"USER_CREATE_ADRESS_REQUEST"}),i=s(),m=i.userLogin.userInfo,E={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(m.token)}},c.next=6,y.a.post("http://127.0.0.1:8000/api/user/create/address/",{phone:e,address:t,country:a,city:r,state:n,postalCode:l,accountNumber:o},E);case 6:d=c.sent,p=d.data,u({type:"USER_CREATE_ADRESS_SUCCESS",payload:p}),localStorage.setItem("userInfo",JSON.stringify(p)),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),u({type:"USER_CREATE_ADRESS_FAIL",payload:c.t0.response&&c.t0.response.data.detail?c.t0.response.data.detail:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e,t){return c.apply(this,arguments)}}()}(l,s,d,b,j,T,q)),t.push("/profile"),console.log("addressCreated")}},r.createElement(O.a.Group,{controlId:"tel"},r.createElement(O.a.Label,null,"Phone"),r.createElement(O.a.Control,{required:!0,type:"number",placeholder:"mobile number",value:l,onChange:function(e){return o(e.target.value)}})),r.createElement(O.a.Group,{controlId:"address"},r.createElement(O.a.Label,null,"Address"),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"Enter your Address",value:s,onChange:function(e){return i(e.target.value)}}),r.createElement(O.a.Group,{controlId:"country"},r.createElement(O.a.Label,null,"Country"),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"country",value:d,onChange:function(e){return p(e.target.value)}})),r.createElement(O.a.Group,{controlId:"state"},r.createElement(O.a.Label,null,"State"),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"state",value:j,onChange:function(e){return A(e.target.value)}})),r.createElement(O.a.Group,{controlId:"city"},r.createElement(O.a.Label,null,"City"),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"City",value:b,onChange:function(e){return C(e.target.value)}})),r.createElement(O.a.Group,{controlId:"postal"},r.createElement(O.a.Label,null,"Postal Code"),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"postal code",value:T,onChange:function(e){return k(e.target.value)}})),r.createElement(O.a.Group,{controlId:"number"},r.createElement(O.a.Label,null,"Account Number "),r.createElement(O.a.Control,{required:!0,type:"text",placeholder:"postal code",value:q,onChange:function(e){return D(e.target.value)}})),r.createElement(L.a,{type:"submit",variant:"primary"},"Sign Up"))))},N=a(117);var B=function(e){var t=e.history,a=Object(r.useState)(""),l=Object(R.a)(a,2),o=(l[0],l[1],Object(r.useState)("")),c=Object(R.a)(o,2),u=c[0],s=c[1],i=Object(f.b)(),m=Object(f.c)((function(e){return e.userLogin})).userInfo;return Object(r.useEffect)((function(){m||t.push("/login")}),[i,t,m]),n.a.createElement(C.a,null,n.a.createElement(_.a,{md:9},n.a.createElement("h2",null,"Transaction History"),n.a.createElement(N.a,{striped:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"user"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Reference"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"AccountName"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,m.username),n.a.createElement("td",null,"$100,000"),n.a.createElement("td",null,"ygyry"),n.a.createElement("td",null,"HBUK4017264178610USD"),n.a.createElement("td",null,"Helium Accounting Service"),n.a.createElement("td",null,"Pendin"))))),n.a.createElement(_.a,{md:5},n.a.createElement("h4",null," contact us"),n.a.createElement(O.a,{onSubmit:""},n.a.createElement(O.a.Group,{controlId:"email"},n.a.createElement(O.a.Label,null,"Contact us"),n.a.createElement(O.a.Control,{type:"text",placeholder:"Enter your username here",value:u,onChange:function(e){return s(e.target.value)}})),n.a.createElement(L.a,{type:"submit",variant:"primary"},"message"))))};var q=function(){return n.a.createElement(c.BrowserRouter,null,n.a.createElement(b,null),n.a.createElement("main",{className:"py-3"},n.a.createElement(i.a,null,n.a.createElement(u.d,{path:"/",component:T,exact:!0}),n.a.createElement(u.d,{path:"/login",component:G}),n.a.createElement(u.d,{path:"/createAddress",component:k}),n.a.createElement(u.d,{path:"/register",component:P}),n.a.createElement(u.d,{path:"/profile",component:B}))),n.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(37),F=a(70),J=a(71),Q=Object(D.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userAddress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_CREATE_ADRESS_REQUEST":return{loading:!0};case"USER_CREATE_ADRESS_SUCCESS":return{loading:!1,userAddress:t.payload};case"USER_CREATE_ADRESS_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}}}),z={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},H=[F.a],M=Object(D.createStore)(Q,z,Object(J.composeWithDevTools)(D.applyMiddleware.apply(void 0,H)));a(108);o.a.render(n.a.createElement(f.a,{store:M},n.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,a){e.exports=a(109)},77:function(e,t,a){},78:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.0ada415c.chunk.js.map